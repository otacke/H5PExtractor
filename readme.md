# H5P Extractor - proof of concept
Tool that is supposed to be be usable for rendering H5P content server-side.

## Quick start (to be done properly (!))

1. Use `require_once <path_to_h5p-extractor> . '/app/H5PExtractor.php';` to
load code.

2. Use `$h5pExtractor = new H5PExtractor\H5PExtractor($config);` to create an
   instance, where `$config` is supposed to be an optional an associative array
   containing configuration items, e.g.:
   ```
   $config = [
     'uploadsPath' => <path to be used for uploads relative to h5p-extractor>
   ]
   ```

   By default, if that value is not set or no `$config` argument is passed,
   H5PExtractor will try to create/use a directory named `uploads` inside its main
   `h5p-extractor` directory.

   Please ensure that the respective `uploads` directory can be read and written by
   your server process.

3. Use something like
   ```
   $extract = $h5pExtractor->extract(
       [
           'file' => $file['tmp_name'],
           'format' => $_POST['format']
       ]
   );
   ```
   where
   - `file` is supposed to be the H5P file that contains the H5P content that is
     supposed to be rendered - here a standard temporary file generated by a
     form upload.
   - `format` specifies the desired output format (currently `html` (default) or
    `text`) - here the `format` key of the form upload.

   The return value is an associative array with the key `result` or `error`.
   - `result` contains the requested output format
   - `error` contains an error message if something went wrong.
